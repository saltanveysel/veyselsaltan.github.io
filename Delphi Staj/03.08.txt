http://delphi.wikia.com/wiki/UpperCase_Routine      Textdekiler Buyuk oldu
http://programlamatr.com/frmBrowseStory.aspx?RecId=54&MainMenuId=5&SubMenuId=2 ile case kullanýmý


http://www.delphibasics.co.uk/RTL.asp?Name=StringReplace




procedure TForm1.Compare(FileNameOne, FileNameTwo: string;pHepsimi:Boolean=False);
 const
   karar='karþýlaþýrýldý';
 var
  List1,
  List2,
  blok,
  blok2,
  List2Yedek: TStringList;

  i,j,
  blok1uzunluk,
  blok2uzunluk,
  a,
  b,
  max,
  aynimi,
  aynimi2: integer;

  procadi,
  procadi2,
  degisen,
  degisensatirlar,
  basla,
  bitir,
  namebitis:string;

  liste:TListItem;

begin
  j:=0;
  while j<=3 do begin
    if pHepsimi<>False
    then cxSecim.ItemIndex:=j;
    case cxSecim.ItemIndex of
      0:
      begin
         basla:='TABLE';
         bitir:=';';
         namebitis:='(';
         if pHepsimi=False
         then j:=4;
      end;
      1:
      begin
         basla:='PROCEDURE';
         bitir:='END PROCEDURE;';
         namebitis:='(';
         if pHepsimi=False
         then j:=4;
      end;
      2:
      begin
         basla:='TRIGGER';
         bitir:=';';
         namebitis:='ON';
         if pHepsimi=False
         then j:=4;
      end;
      3:
      begin
         basla:='VIEW';
         bitir:=';';
         namebitis:='(';
      end;
    end;
    try
      try
        List1 := TStringList.Create;
        List2 := TStringList.Create;
        blok := TStringList.Create;
        blok2 := TStringList.Create;
        List2Yedek:=TStringList.Create;
        List1.LoadFromFile(FileNameOne);
        List2.LoadFromFile(FileNameTwo);
        repeat
          blok.Text:=aradansec(UpperCase(List1.text),'CREATE '+basla,bitir);
          procadi:=aradansec(blok.Text,'.',namebitis);
          List2Yedek.Text:=List2.Text;
            degisen:='';
            blok2.Text:=aradansec(UpperCase(List2Yedek.Text),'CREATE '+basla,bitir);
            procadi2:=aradansec(blok2.Text,'.',namebitis);
            aynimi:=CompareStr(blok.Text,blok2.Text);
            if ( (procadi=procadi2) and(aynimi<>0))
            then begin
              if blok.Count>blok2.Count
              then begin
                max:=blok.Count;
              end
              else
              begin
                max:=blok2.Count;
              end;

              for i:=0 to max-1 do
              begin
                aynimi:=CompareStr(blok.Strings[i],blok2.Strings[i]);
                if(aynimi<>0)
                then begin
                 liste_gor.Items.BeginUpdate;
                liste:=liste_gor.Items.Add;
                liste.Caption:= procadi;
                degisensatirlar:='';
                b:=i-1;
                a:=i-1;
                while ((a<max-1) and (b<max-1)) do
                begin
                  b:=b+1;
                  a:=a+1;
                  aynimi2:=CompareStr(blok.Strings[a],blok2.Strings[b]);
                  if(aynimi2<>0)
                  then begin
                    if (blok.Strings[a]='') And (blok2.Strings[b]<>'')
                    then begin
                      b:=b-1;
                      Continue;
                    end
                    else if(blok.Strings[a]<>'') And (blok2.Strings[b]='')
                    then begin
                      a:=a-1;
                      Continue;
                    end;
                    degisen:=IntToStr(a+1)+','+degisen;
                  end;
                end;
              if Length(degisen)>1
              then begin
                degisen:=Copy(degisen,1,Length(degisen)-1);
              end;
              liste.SubItems.Add(degisen);
              liste.SubItems.Add(basla);
              liste_gor.Items.EndUpdate;
              Break;
            end;
         end;
         end;

           List2Yedek.Text:=StringReplace(UpperCase(List2Yedek.Text),'CREATE '+basla+blok2[0],karar,[rfReplaceAll, rfIgnoreCase])   ;
          until Pos('CREATE '+basla,UpperCase(List2Yedek.Text))=0;

          List1.Text:=StringReplace(UpperCase(List1.Text),'CREATE '+basla+blok[0],karar,[rfReplaceAll, rfIgnoreCase])   ;
        until  Pos('CREATE '+basla,UpperCase(List1.Text))=0;
      except
        ShowMessage('TStringList Oluþturulamadý!');
      end;
    finally
      List1.Free;
      List2.Free;
      blok.Free;
      blok2.Free;
      List2Yedek.Free;
    end;
  j:=j+1;
  end;
end;